# Here ncurses 6.5 is being built with abi comp for version 5. This allows older software to run

name: ncurses5
version: 6.5
release: 1
url: https://invisible-mirror.net/archives/ncurses/ncurses-6.5.tar.gz
homepage: https://www.gnu.org/software/ncurses/
license: X11 License
summary: The ncurses library routines are a terminal-independent method of updating character screens with reasonable optimization.
description: |
  The ncurses library routines are a terminal-independent method of updating character screens with reasonable optimization. This package contains the shared libraries necessary to run programs compiled with ncurses.
phase: 5

buildsteps: |
  ./configure \
    --prefix=/usr \
    --libdir=/usr/lib/ncurses5 \
    --with-shared \
    --with-abi-version=5 \
    --without-debug \
    --without-cxx-binding \
    --without-manpages \
    --with-termlib \
    --with-versioned-syms

  make
  make install

  ln -svf /usr/lib/ncurses5/libncurses.so.5 /usr/lib/libncurses.so.5
  ln -svf /usr/lib/ncurses5/libtinfo.so.5   /usr/lib/libtinfo.so.5